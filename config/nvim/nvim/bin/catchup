#!/bin/sh
#
# Update a branch with `dev` branch through rebasing.

path_name="$(basename "$PWD" | tr . -)"
session_name=${1-$path_name}

in_repo() {
  [ -d .git ] || git rev-parse --git-dir > /dev/null 2>&1
}

update_branch() {
  if in_repo; then
    if [ "$1" == "" ]; then
      echo "You forgot to include what branch to update"
    else
      git checkout dev
      git pull origin dev
      git checkout $1
      git rebase dev
    fi
  else
    echo "You are not in a git repository"
  fi
}

update_branch $1
